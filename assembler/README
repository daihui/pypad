
This directory contains all the necessary code and parameters
to try and assemble an image.

What's what:

* assemble.py : script/library that will assemble an image
* example_calibration_dir : directory containing flat text files with geometry parameters, this particular oen is mikhails geometry
* PyCSPadImage : pyana source code that actually does the assembly

-- TJL

Copied below is a message from Mikhail to Derek:
--------------------------------------------------------------------------------

Hi Derec,

I have tuned the cspad ds1 alignment constants.
They are loceated under my local directory:
/reg/neh/home1/dubrovin/LCLS/CSPadAlignment-v01/calib-cxi64813-r0058-Ds1/

Three files have been changed:
marg_gap_shift/0-end.data
offset_corr/0-end.data
offset/0-end.data
I have reduced constants to some "minimal-symmetric" set.

Results are described in:
https://confluence.slac.stanford.edu/display/PCDS/2013-01-31+CSPad+CxiDs1+alignment
https://confluence.slac.stanford.edu/display/PCDS/CSPad+alignment

Unfortunately I can not copy files in
/reg/d/psdm/cxi/cxi64813/calib/CsPad::CalibV1/CxiDs1.0:Cspad.0/*/0-end.data
because Marc has created directories under his ownership with protection. 
So, please ask Marc to do that.

If you want to play with alignment yourself, please thy to use the package 
PyCSPadImage, described in 
https://confluence.slac.stanford.edu/display/PCDS/CSPad+image+producer+in+Python

Because I have changed the module PyCSPadImage/src/Alignment.py for your 
case, you need to add this package to your release...
What you actually need to do is listed below:

log in to psexport
kinit
cd <your-favorite-directory>
newrel ana-current PyCSPadImage-test
cd PyCSPadImage-test/
sit_setup
addpkg PyCSPadImage HEAD
scons
python PyCSPadImage/src/Alignment.py

Then, you may play with module PyCSPadImage/src/Alignment.py
and your constants as you like. In particular you may chane my
local directory
     path_calib = 
'/reg/neh/home1/dubrovin/LCLS/CSPadAlignment-v01/calib-cxi64813-r0058-Ds1'

to yours, etc.

Best,
Mikhail



